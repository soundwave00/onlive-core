CREATE DATABASE "onlive";

-- TABELLA PORTE JAMULUS SERVER
CREATE TABLE onlive.JPORTS (
	PORT int NOT NULL,
	RUNNING BIT NOT NULL,

	PRIMARY KEY (PORT)
);
INSERT INTO onlive.JPORTS VALUES (22124, 0);
INSERT INTO onlive.JPORTS VALUES (22125, 0);
INSERT INTO onlive.JPORTS VALUES (22126, 0);
INSERT INTO onlive.JPORTS VALUES (22127, 0);
INSERT INTO onlive.JPORTS VALUES (22128, 0);
INSERT INTO onlive.JPORTS VALUES (22129, 0);
INSERT INTO onlive.JPORTS VALUES (22130, 0);
INSERT INTO onlive.JPORTS VALUES (22131, 0);
INSERT INTO onlive.JPORTS VALUES (22132, 0);
INSERT INTO onlive.JPORTS VALUES (22133, 0);

-- TABELLA LIVE
CREATE TABLE onlive.LIVE (
	ID int AUTO_INCREMENT,
	NAME VARCHAR(64) NOT NULL,
	DESCRIPTION VARCHAR(128) NOT NULL,
	DATE_SET DATETIME NOT NULL,
	DATE_START DATETIME,
	DATE_STOP DATETIME,
	PID int,
	PORT INT,
	RUNNING BIT NOT NULL,

	PRIMARY KEY (ID),
    CONSTRAINT FK_JPORTS_LIVE FOREIGN KEY (PORT)
    REFERENCES onlive.JPORTS(PORT)
);
